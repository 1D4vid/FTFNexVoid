--[[ 
    MAINTENANCE GUI
    Author: DraxynSoulx
    ]]

-- Configurações do Script Alvo
local UrlDoScript = "https://raw.githubusercontent.com/1D4vid/FtfEspScript/refs/heads/main/ftf_esp_script.lua"
local ScriptLoadstring = 'loadstring(game:HttpGet("'..UrlDoScript..'"))()'

-- Nova Imagem solicitada
local ImageID = "rbxassetid://14875954674"

-- Cores do Tema
local Color_Black = Color3.fromRGB(10, 10, 10)      -- Preto quase absoluto
local Color_Red   = Color3.fromRGB(220, 20, 20)     -- Vermelho Sangue
local Color_Text  = Color3.fromRGB(255, 255, 255)   -- Branco

-- Serviços
local CoreGui = game:GetService("CoreGui")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

-- Limpeza de GUI anterior
if CoreGui:FindFirstChild("RedBlackMaintenance") then
    CoreGui.RedBlackMaintenance:Destroy()
end

-- --- CRIAÇÃO DA GUI ---
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "RedBlackMaintenance"
ScreenGui.Parent = CoreGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- Frame Principal
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color_Black
MainFrame.BorderSizePixel = 0
-- Centralização
MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
MainFrame.Size = UDim2.new(0, 400, 0, 280)
MainFrame.ClipsDescendants = false 

-- Arredondamento
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 10)
UICorner.Parent = MainFrame

-- --- IMAGEM DE FUNDO ---
local BackgroundImage = Instance.new("ImageLabel")
BackgroundImage.Parent = MainFrame
BackgroundImage.Size = UDim2.new(1, 0, 1, 0)
BackgroundImage.BackgroundTransparency = 1
BackgroundImage.Image = ImageID
BackgroundImage.ScaleType = Enum.ScaleType.Crop
-- Deixar a imagem levemente transparente para misturar com o fundo preto
BackgroundImage.ImageTransparency = 0.2 

local ImageCorner = Instance.new("UICorner")
ImageCorner.CornerRadius = UDim.new(0, 10)
ImageCorner.Parent = BackgroundImage

-- Filtro Escuro (Vignette) para destacar o vermelho
local DarkOverlay = Instance.new("Frame")
DarkOverlay.Parent = MainFrame
DarkOverlay.Size = UDim2.new(1, 0, 1, 0)
DarkOverlay.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
DarkOverlay.BackgroundTransparency = 0.4 -- Ajuste para ver mais ou menos a imagem
local OverlayCorner = Instance.new("UICorner")
OverlayCorner.CornerRadius = UDim.new(0, 10)
OverlayCorner.Parent = DarkOverlay

-- --- BORDA ANIMADA (VERMELHO E PRETO) ---
local UIStroke = Instance.new("UIStroke")
UIStroke.Parent = MainFrame
UIStroke.Thickness = 3
UIStroke.Transparency = 0

local GradientStroke = Instance.new("UIGradient")
GradientStroke.Parent = UIStroke
-- Gradiente: Vermelho -> Preto -> Vermelho
GradientStroke.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0.00, Color_Red),
    ColorSequenceKeypoint.new(0.25, Color3.new(0,0,0)),
    ColorSequenceKeypoint.new(0.50, Color_Red),
    ColorSequenceKeypoint.new(0.75, Color3.new(0,0,0)),
    ColorSequenceKeypoint.new(1.00, Color_Red)
}

-- Rotação da Borda
task.spawn(function()
    while MainFrame.Parent do
        GradientStroke.Rotation = GradientStroke.Rotation + 2
        task.wait(0.016) -- ~60 FPS
    end
end)

-- --- TEXTOS ---

-- Título
local Title = Instance.new("TextLabel")
Title.Parent = MainFrame
Title.BackgroundTransparency = 1
Title.Position = UDim2.new(0, 0, 0, 15)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.Font = Enum.Font.GothamBlack
Title.Text = "SYSTEM ERROR / MAINTENANCE"
Title.TextColor3 = Color_Red -- Título em vermelho para destaque
Title.TextSize = 20
Title.ZIndex = 5

-- Descrição
local Desc = Instance.new("TextLabel")
Desc.Parent = MainFrame
Desc.BackgroundTransparency = 1
Desc.Position = UDim2.new(0, 25, 0, 50)
Desc.Size = UDim2.new(1, -50, 0, 50)
Desc.Font = Enum.Font.GothamMedium
Desc.Text = "This script is currently offline for updates.\nPlease use the stable version below."
Desc.TextColor3 = Color3.fromRGB(200, 200, 200)
Desc.TextSize = 14
Desc.TextWrapped = true
Desc.ZIndex = 5

-- --- BOTÕES ---

local ButtonContainer = Instance.new("Frame")
ButtonContainer.Parent = MainFrame
ButtonContainer.BackgroundTransparency = 1
ButtonContainer.Position = UDim2.new(0, 40, 0, 115)
ButtonContainer.Size = UDim2.new(1, -80, 1, -125)
ButtonContainer.ZIndex = 5

local UIList = Instance.new("UIListLayout")
UIList.Parent = ButtonContainer
UIList.SortOrder = Enum.SortOrder.LayoutOrder
UIList.Padding = UDim.new(0, 10)

-- Função para criar botões no estilo Red/Black
local function CreateDarkButton(text, isPrimary, order)
    local Btn = Instance.new("TextButton")
    Btn.Parent = ButtonContainer
    Btn.LayoutOrder = order
    Btn.Size = UDim2.new(1, 0, 0, 35)
    Btn.Font = Enum.Font.GothamBold
    Btn.Text = text
    Btn.TextSize = 14
    Btn.AutoButtonColor = false
    
    -- Estilo
    if isPrimary then
        -- Botão Principal: Fundo Vermelho, Texto Branco
        Btn.BackgroundColor3 = Color_Red
        Btn.TextColor3 = Color3.new(1,1,1)
    else
        -- Botão Secundário: Fundo Preto, Borda Vermelha
        Btn.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
        Btn.TextColor3 = Color_Red
        
        local btnStroke = Instance.new("UIStroke")
        btnStroke.Parent = Btn
        btnStroke.Color = Color_Red
        btnStroke.Thickness = 1
    end
    
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, 6)
    Corner.Parent = Btn
    
    -- Animação Hover
    Btn.MouseEnter:Connect(function()
        TweenService:Create(Btn, TweenInfo.new(0.2), {BackgroundTransparency = 0.3}):Play()
    end)
    Btn.MouseLeave:Connect(function()
        TweenService:Create(Btn, TweenInfo.new(0.2), {BackgroundTransparency = 0}):Play()
    end)
    
    return Btn
end

local BtnExec = CreateDarkButton("► EXECUTE OLD SCRIPT", true, 1)
local BtnCopy = CreateDarkButton("COPY SCRIPT LINK", false, 2)
local BtnClose = CreateDarkButton("CLOSE", false, 3)

-- --- LÓGICA DE DRAGGABLE (ARRASTAR) ---
local dragging, dragInput, dragStart, startPos
MainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then dragging = false end
        end)
    end
end)
MainFrame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then dragInput = input end
end)
UserInputService.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        local delta = input.Position - dragStart
        MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)

-- --- FUNÇÕES ---

BtnExec.MouseButton1Click:Connect(function()
    BtnExec.Text = "INJECTING..."
    task.wait(0.2)
    local s, err = pcall(function()
        loadstring(game:HttpGet(UrlDoScript))()
    end)
    if s then
        BtnExec.Text = "SUCCESS"
        task.wait(1)
        ScreenGui:Destroy()
    else
        BtnExec.Text = "ERROR"
        warn(err)
        task.wait(1)
        BtnExec.Text = "► EXECUTE OLD SCRIPT"
    end
end)

BtnCopy.MouseButton1Click:Connect(function()
    setclipboard(ScriptLoadstring)
    BtnCopy.Text = "COPIED TO CLIPBOARD"
    BtnCopy.BackgroundColor3 = Color3.fromRGB(50, 200, 50) -- Verde temporário para feedback positivo
    BtnCopy.TextColor3 = Color3.new(1,1,1)
    task.wait(1.5)
    BtnCopy.Text = "COPY SCRIPT LINK"
    -- Reseta cores
    BtnCopy.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    BtnCopy.TextColor3 = Color_Red
end)

BtnClose.MouseButton1Click:Connect(function()
    local tween = TweenService:Create(MainFrame, TweenInfo.new(0.3), {Size = UDim2.new(0,0,0,0), BackgroundTransparency = 1})
    tween:Play()
    tween.Completed:Connect(function() ScreenGui:Destroy() end)
end)

-- Animação de Entrada
MainFrame.Size = UDim2.new(0,0,0,0)
TweenService:Create(MainFrame, TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {Size = UDim2.new(0, 400, 0, 280)}):Play()
